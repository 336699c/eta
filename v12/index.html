<html><head>
<style>
button{
background-color:lightgray;
height:65px;
}
</style>
<link rel="icon" type="image/x-icon" href="/eta/icon/eta_stop.png">
</head><body style="background-color:d2dcff">

<h1 style="text-align: center; font-size:7vw">歡迎使用 巴士到站預報</h1>

<a href="https://336699c.github.io/eta/v12/route.html">
<div style="
    margin: auto;
    width: 40%;
    border: 2px solid black;
    padding: 10px; 
    background-color:lightgray">
 
<img src="/eta/icon/eta_stop.png" style="
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 50%;">
<p style="text-align: center; font-size:4vw;color:black;">查詢巴士路綫</p>
           
</div>
</a>

<br>
<pre style="font-size:3vw">巴士站 書簽</pre>
<table id="B"></table>


<script>
var ck=[];
function parseCookie(){
ck = document.cookie.split("; ");
ck = ck.filter(e=>e.split("=")[0]=="bkmark");
if(ck.length>0){ck = JSON.parse(ck[0].split("=")[1]);}else{ck = [];}
}

function update_bkmark(){
parseCookie();
while(document.getElementById("B").childNodes.length>0){document.getElementById("B").childNodes[0].remove()};
ck.forEach((data,i)=>{
    var Row = document.getElementById("B").insertRow(i);
    Row.insertCell(0).innerHTML = 
    `<button style="text-align: left; width:100%" onclick="bkmrk(`+i+`);">
    <pre style="display: inline;font-size:4vw;">書簽 `+i+`</pre>`+
    `<label style="display: inline;font-size:3vw;"> `+data.map(g=>g[2]).join(" ")+` </label>`
    +`</button>`;
    Row.insertCell(0).innerHTML = 
    `<button style="text-align: left; width:75px; font-size:4vw;" onclick="rmbk(`+i+`);">X</button>`;
    });
}
update_bkmark(); 

function bkmrk(i){window.location.href="/eta/v12/bystop.html?!"+i+",1"}
function rmbk(i){
parseCookie();
ck[i]={"bk":[],"routes":[]};
document.cookie = `bkmark=`+JSON.stringify(ck)+`; path=/eta/v12/ ; expires=`+new Date(2047,2,28).toUTCString();
update_bkmark()
}
</script>

 

</body></html>
