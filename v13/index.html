<html><head>
<style>
tr:nth-child(even) {
  background-color: #ddd;
}
tr:nth-child(odd) {
  background-color: #fff9;
}
img{
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 50%;
}
.settings{
font-size:20px;
border:0px;
width:100px;
height:50px;
border-radius: 15px;
background-color:#fdf;
}
</style>
<script src="https://raw.githubusercontent.com/336699c/eta/main/v13/script/main.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="icon" type="image/x-icon" href="/eta/icon/icon.png">
</head><body style="background-color:d2dcff">

<h1 style="text-align: center; font-size:40px"><small>歡迎使用</small><br>巴士到站預報</h1>

<a href="/eta/v13/route2.html">
<div style="
    margin: auto;
    width: 60%;
	max-width:400px;
    border: 2px solid black;
    padding: 10px; 
    background-color:lightgray">
 
<img src="/eta/icon/eta_stop.png">
<p style="text-align: center; font-size:30px;color:black;">查詢巴士路綫</p>
           
</div>
</a>

<br>
<div style="padding:0 0 0 0; background-color:#fff9;border-radius:6px;width:100%">
<label style="font-size:20px">巴士站 書簽</label>
<table id="B" style="width:100%"><tbody style="width:100%">
</tbody></table>
</div>
</body>

<script>
var ck=[];

function update_bkmark(){
ck = Get_Cookie("bookmark",[]);
while(document.getElementById("B").childNodes.length>0){document.getElementById("B").childNodes[0].remove()};
ck.forEach((data,i)=>{
    var Row = document.getElementById("B").insertRow(i);
	data.stops = JSON.parse(window.atob(data.stops));
    Row.insertCell(0).innerHTML = 
	`<button style="text-align: left; width:100%; background:#0000; border:0px" onclick="{#0}">
	<pre style="display: inline;font-size:4vw;">書簽 {#1}</pre>
	<label style="display: inline;font-size:3vw;"> {#2} </label>
	</button>`
	.replacement([
		'window.location.href="/eta/v12/bystop.html?0,'+data.stops.join(",")
		i,
		data.bk.map(g=>g[2]).join(" "),
		
	])
	
	Row.insertCell(0).innerHTML = 
    `<button style="width:75px; font-size:4vw;" onclick="rmbk({#0});">X</button>`.replacement([i]);
    });
}
update_bkmark(); 
   
function rmbk(i){
parseCookie();
ck[i]={"stops":'e30=',"routes":[],"preference":{"time":0,"routes":[]}};
document.cookie = `bookmark=`+JSON.stringify(ck)+`; path=/eta/v13/ ; expires=`+new Date(2047,2,28).toUTCString();
update_bkmark()
}
</script>

 

</html>
